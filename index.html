<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <meta name="robots" content="noindex, nofollow">
    </head>
<body>
    <p style="font-family: sans-serif; text-align: center; padding-top: 30px; color: #aaa;">페이지 이동 중...</p>

    <script> // ★★★ 스크립트 블록을 body 태그 맨 아래로 이동 ★★★
        /**
         * URL의 쿼리 파라미터 값을 가져오는 함수
         */
        function getQueryParam(param) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        /**
         * Tistory 중간 페이지로 리디렉션하는 메인 함수
         */
        function redirectToTistoryIntermediate() {
            const encodedTarget = getQueryParam('target'); // 'target' 파라미터 읽기

            // ==================================================================
            // ★★★ 중요: 아래 변수 값을 본인의 Tistory 중간 페이지 주소로 변경! ★★★
            const tistoryIntermediateUrlBase = 'https://hotissues.lightbartizan.com/2025/04/target-link.html';
            // ★★★ 중요: 아래 변수 값을 본인의 Tistory 블로그 홈 주소로 변경! ★★★
            const tistoryHomeUrl = 'https://hotissues.lightbartizan.com/';
            // ==================================================================

            if (encodedTarget) {
                // Target 파라미터가 있으면 Tistory 중간 페이지(/1)로 이동
                const finalRedirectUrl = `${tistoryIntermediateUrlBase}?target=${encodedTarget}`;
                window.location.replace(finalRedirectUrl);
            } else {
                // Target 파라미터가 없으면 콘솔에 로그 남기고 Tistory 홈으로 즉시 이동
                console.error("Target parameter missing on Netlify redirector page. Redirecting to fallback.");
                // 이전에 오류를 발생시켰던 innerHTML 설정 대신 바로 리디렉션
                window.location.replace(tistoryHomeUrl); // Tistory 홈으로 이동
            }
        }

        // 이제 body가 로드되었으므로 함수를 호출해도 안전합니다.
        redirectToTistoryIntermediate();
    </script>
</body>
</html>